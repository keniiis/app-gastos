---
---

<div class="mb-8">
  <div class="tab">
    <button class="tablinks active" data-tab="gastos">Gastos y Suscripciones</button>
    <button class="tablinks" data-tab="perfiles">Perfiles de Ahorro</button>
    <button class="tablinks" data-tab="calculadora">Calculadora de Ahorro</button>
    <button class="tablinks" data-tab="calendario">Calendario de Ahorro</button>
  </div>
</div>

<script>
  // Tipos para los elementos
  type TabName = 'gastos' | 'perfiles' | 'calculadora' | 'calendario';

  function openTab(tabName: TabName): void {
    // Ocultar todas las pestañas
    document.querySelectorAll<HTMLElement>('.tabcontent').forEach((tab) => {
      tab.style.display = 'none';
    });

    // Quitar la clase activa
    document.querySelectorAll<HTMLButtonElement>('.tablinks').forEach((btn) => {
      btn.classList.remove('active');
    });

    // Mostrar la pestaña seleccionada
    const target = document.getElementById(tabName);
    if (target) target.style.display = 'block';

    // Marcar botón como activo
    const btn = document.querySelector<HTMLButtonElement>(`[data-tab="${tabName}"]`);
    if (btn) btn.classList.add('active');
  }

  // Delegación de eventos
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll<HTMLButtonElement>('.tablinks').forEach((btn) => {
      btn.addEventListener('click', () => openTab(btn.dataset.tab as TabName));
    });

    // Mostrar la pestaña por defecto
    openTab('gastos');
  });

  // Exponemos globalmente para cualquier uso fuera del módulo (opcional)
  (window as any).openTab = openTab;
</script>